
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Esperto Markup Calculator</title>
  <link rel="stylesheet" href="css/custom-css-bootstrap-magic-.css" type="text/css">
  <link rel="stylesheet" href="css/style.css" type="text/css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" type="text/css">
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>
</head>
<body>
<nav class="navbar navbar-expand-md navbar-dark bg-primary fixed-top">
  <a class="navbar-brand" href="#">Esperto Calculator</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar" aria-controls="navbar"
    aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="navbar">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item active">
        <a class="nav-link" target="_blank" href="https://esperto.com.au">Esperto Website
          <span class="sr-only">(current)</span>
        </a>
      </li>
      <li class="nav-item dropdown active">
        <a class="nav-link dropdown-toggle" href="#" id="suppliers_phone" data-toggle="dropdown" aria-haspopup="true"
          aria-expanded="false">Phone Suppliers</a>
        <div class="dropdown-menu" aria-labelledby="suppliers_phone">
            <a class="dropdown-item" target="_blank"  href="">Link</a>
             <a class="dropdown-item" target="_blank"  href="">Link</a>
         </div>
      </li>
      <li class="nav-item dropdown active">
        <a class="nav-link dropdown-toggle" href="#" id="suppliers_comp" data-toggle="dropdown" aria-haspopup="true"
          aria-expanded="false">Computer Suppliers</a>
        <div class="dropdown-menu" aria-labelledby="suppliers_comp">
          <a class="dropdown-item" target="_blank"  href="">Link</a>
          <a class="dropdown-item" target="_blank"  href="">Link</a>
          <a class="dropdown-item" target="_blank"  href="">Link</a>
         </div>
      </li>
    </ul>
  </div>
</nav>

<main role="main" class="container">
    <div class="py-5">
    <div class="container">
      <div class="row">
        <div class="col-md-12"></div>
      </div>
    </div>
  </div>
<div class="rounded well well-lg">
<div class="py-5">
    <div class="container">
      <div class="row">
        <div class="col-md-6">
          <h1 class="">Part Cost Ex GST</h1>
          <form class="form-inline">
            <input type="number" data-toggle="tooltip" data-placement="auto" title="Our cost excluding GST from the supplier" id="cost" class="form-control form-control-lg" placeholder="Enter Cost"> </form>
        </div>
        <div class="col-md-6">
          <h1 class="">Mark-Up</h1>
          <div class="form-group"> <select class="form-control form-control-lg" id="mark_up" data-toggle="tooltip" data-placement="auto" title="30% is usually enough if unsure">
          <option value="0%">0%</option>
          <option value="10%">10%</option>
          <option value="20%">20%</option>
          <option value="30%">30%</option>
          <option selected="selected" value="40%">40%</option>
          <option value="50%">50%</option>
          <option value="60%">60%</option>
          <option value="70%">70%</option>
          <option value="80%">80%</option>
          <option value="90%">90%</option>
          <option value="100%">100%</option>
        	</select> </div>
        </div>
      </div>
    </div>
  </div>
  <div class="py-5">
    <div class="container">
      <div class="row">
        <div class="col-md-6">
          <h1 class="">Labour Time</h1>
          <div class="form-group"> <select class="form-control form-control-lg" id="labour_time">
          <option value="0">0 Minutes</option>
          <option value="15">15 Minutes</option>
          <option selected="selected" value="30">30 Minutes (Most Phones)</option>
          <option value="45">45 Minutes</option>
          <option value="1H">1 Hour (Most Tablets)</option>
          <option value="1H15">1 Hour 15 Minutes</option>
          <option value="1H30">1 Hour 30 Minutes</option>
          <option value="1H45">1 Hour 45 Minutes</option>
          <option value="2H">2 Hours</option>
          <option value="2H15">2 Hours 15 Minutes</option>
          <option value="2H30">2 Hours 30 Minutes</option>
          <option value="2H45">2 Hours 45 Minutes</option>
          <option value="3H">3 Hours</option>
          <option value="3H15">3 Hours 15 Minutes</option>
          <option value="3H30">3 Hours 30 Minutes</option>
          <option value="3H45">3 Hours 45 Minutes</option>
          <option value="4H">4 Hours</option>
        	</select> </div>
        </div>
        <div class="col-md-6">
          <button type="button" data-toggle="tooltip" data-placement="auto" title="Hotkey:r" class="btn my-5 w-100 btn-success" id="reset_button">Reset</button>
        </div>
      </div>
    </div>
  </div>
  <div class="py-5">
    <div class="container">
      <div class="row">
        <div class="col-md-2">
          <h1 class="">Total:</h1>
        </div>
        <div class="col-md-3">
          <h1 hidden class="border rounded border-success" id="total"></h1>
        </div>
      </div>
    </div>
  </div>
</div>
</main>
</body>
<script type="text/javascript">
$(document).ready(function(){
	    $('[data-toggle="tooltip"]').tooltip(); 
});
function reset(){

    $("#labour_time").val("30");
    $("#mark_up").val("30%");
    $("#cost").val("");
    $("#total").hide();
    $('#cost').focus();

}
function calc_total(){

    var labour;
    switch($('#labour_time').val())
    {
      case "0":
        labour = 0;
        break;
      case "15":
        labour = 30;
        break;
      case "30":
        labour = 60;
        break;
      case "45":
        labour = 90;
        break;
      case "1H":
        labour = 120;
        break;
      case "1H15":
        labour = 150;
        break;
      case "1H30":
        labour = 180;
        break;
      case "1H45":
        labour = 210;
        break;
      case "2H":
        labour = 240;
        break;
      case "2H15":
        labour = 270;
        break;
      case "2H30":
        labour = 300;
        break;
      case "2H45":
        labour = 330;
        break;
      case "3H":
        labour = 360;
        break;
      case "3H15":
        labour = 390;
        break;
      case "3H30":
        labour = 420;
        break;
      case "3H45":
        labour = 450;
        break;
      case "4H":
        labour = 480;
        break;
    }
    var dec = parseFloat($("#mark_up").val()) / 100.0 + 1;
    var cost = parseFloat($("#cost").val());
    var pre_lab = dec * cost;
    var pre_total = labour + pre_lab * 1.1;
    var total = Math.round(pre_total);
    total = total || 0
    $("#total").text("$ "+total);
    if (total != null) {
    	$("#total").removeAttr("hidden");
    }
}
  $( "#cost" ).keyup(function() {
    $("#total").show();
	  calc_total();
  });

  $("#mark_up").bind("change keyup", function(event){
     $("#total").show();
	   calc_total();
  });


  $("#labour_time").bind("change keyup", function(event){
     $("#total").show();
	   calc_total();
  });

  $( "#reset_button" ).click(function() {
    reset();	  
    calc_total();
  });

  $(document).keypress(function(e) {
    if(e.which == 114) {
      reset();
      calc_total();
      }
  });

</script>
